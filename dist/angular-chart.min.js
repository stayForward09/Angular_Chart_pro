!function(){"use strict";function t(){var t="undefined"!=typeof window&&window.Chart||"undefined"!=typeof require&&require("chart.js");if("function"!=typeof t)throw"Failed to load chart.js";var n={Chart:t,options:{responsive:!0,multiTooltipTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",colours:["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}};this.setOptions=function(t,r){return void 0===r?(r=t,n.options=angular.extend(n.options,r),void 0):(n.options[t]=angular.extend(n.options[t]||{},r),void 0)},this.$get=function(){return n}}function n(t){function n(t,n){return t&&n&&t.length&&n.length?Array.isArray(t[0])?t.length===n.length&&t[0].length===n[0].length:n.reduce(r,0)>0?t.length===n.length:!1:!1}function r(t,n){return t+n}function e(n,r,e){if(r.data&&r.data.length){r.getColour="function"==typeof r.getColour?r.getColour:c,r.colours=a(n,r);var i=e[0],u=i.getContext("2d"),l=Array.isArray(r.data[0])?h(r.labels,r.data,r.series||[],r.colours):d(r.labels,r.data,r.colours),s=angular.extend({},t.options,t.options[n]||{}),f=new t.Chart(u)[n](l,s);return r.$emit("create",f),["hover","click"].forEach(function(t){r[t]&&(i["click"===t?"onclick":"onmousemove"]=o(r,f,t))}),r.legend&&"false"!==r.legend&&g(e,f),f}}function o(t,n,r){return function(e){var o=n.getPointsAtEvent||n.getBarsAtEvent||n.getSegmentsAtEvent;if(o){var a=o.call(n,e);t[r](a,e),t.$apply()}}}function a(n,r){for(var e=angular.copy(r.colours||t.options[n]&&t.options[n].colours||t.options.colours||Chart.defaults.global.colours);e.length<r.data.length;)e.push(r.getColour());return e.map(i)}function i(t){return"object"==typeof t&&null!==t?t:"string"==typeof t&&"#"===t[0]?u(f(t.substr(1))):c()}function c(){var t=[l(0,255),l(0,255),l(0,255)];return u(t)}function u(t){return{fillColor:s(t,.2),strokeColor:s(t,1),pointColor:s(t,1),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:s(t,.8)}}function l(t,n){return Math.floor(Math.random()*(n-t+1))+t}function s(t,n){return"rgba("+t.concat(n).join(",")+")"}function f(t){var n=parseInt(t,16),r=n>>16&255,e=n>>8&255,o=255&n;return[r,e,o]}function h(t,n,r,e){return{labels:t,datasets:n.map(function(t,n){var o=angular.copy(e[n]);return o.label=r[n],o.data=t,o})}}function d(t,n,r){return t.map(function(t,e){return{label:t,value:n[e],color:r[e].strokeColor,highlight:r[e].pointHighlightStroke}})}function g(t,n){var r=t.parent(),e=r.find("chart-legend"),o="<chart-legend>"+n.generateLegend()+"</chart-legend>";e.length?e.replaceWith(o):r.append(o)}function p(t,n,r){Array.isArray(r.data[0])?t.datasets.forEach(function(t,r){(t.points||t.bars).forEach(function(t,e){t.value=n[r][e]})}):t.segments.forEach(function(t,r){t.value=n[r]}),t.update(),r.$emit("update",t)}function v(t){return!t||Array.isArray(t)&&!t.length||"object"==typeof t&&!Object.keys(t).length}return function(t){return{restrict:"CA",scope:{data:"=",labels:"=",options:"=",series:"=",colours:"=?",getColour:"=?",chartType:"=",legend:"@",click:"=",hover:"="},link:function(r,o){function a(n,a){if(!v(n)&&!angular.equals(n,a)){var c=t||r.chartType;c&&(i&&i.destroy(),i=e(c,r,o))}}var i,c=document.createElement("div");c.className="chart-container",o.replaceWith(c),c.appendChild(o[0]),"object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement&&window.G_vmlCanvasManager.initElement(o[0]),r.$watch("data",function(a,c){if(a&&a.length&&(!Array.isArray(a[0])||a[0].length)){var u=t||r.chartType;if(u){if(i){if(n(a,c))return p(i,a,r);i.destroy()}i=e(u,r,o)}}},!0),r.$watch("series",a,!0),r.$watch("labels",a,!0),r.$watch("options",a,!0),r.$watch("colours",a,!0),r.$watch("chartType",function(t,n){v(t)||angular.equals(t,n)||(i&&i.destroy(),i=e(t,r,o))}),r.$on("$destroy",function(){i&&i.destroy()})}}}}angular.module("chart.js",[]).provider("ChartJs",t).factory("ChartJsFactory",["ChartJs",n]).directive("chartBase",["ChartJsFactory",function(t){return new t}]).directive("chartLine",["ChartJsFactory",function(t){return new t("Line")}]).directive("chartBar",["ChartJsFactory",function(t){return new t("Bar")}]).directive("chartRadar",["ChartJsFactory",function(t){return new t("Radar")}]).directive("chartDoughnut",["ChartJsFactory",function(t){return new t("Doughnut")}]).directive("chartPie",["ChartJsFactory",function(t){return new t("Pie")}]).directive("chartPolarArea",["ChartJsFactory",function(t){return new t("PolarArea")}])}();
//# sourceMappingURL=angular-chart.min.js.map