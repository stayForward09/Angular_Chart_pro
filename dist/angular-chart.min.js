!function(){"use strict";function t(){var t="undefined"!=typeof window&&window.Chart||"undefined"!=typeof require&&require("chart.js");if("function"!=typeof t)throw"Failed to load chart.js";var n={Chart:t,options:{responsive:!0,multiTooltipTemplate:"<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",colours:["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"]}};this.setOptions=function(t,e){return void 0===e?(e=t,n.options=angular.extend(n.options,e),void 0):(n.options[t]=angular.extend(n.options[t]||{},e),void 0)},this.$get=function(){return n}}function n(t){function n(t,n){return t&&n&&t.length&&n.length?Array.isArray(t[0])?t.length===n.length&&t[0].length===n[0].length:n.reduce(e,0)>0?t.length===n.length:!1:!1}function e(t,n){return t+n}function r(n,e,r){if(e.data&&e.data.length){e.getColour="function"==typeof e.getColour?e.getColour:u,e.colours=a(n,e);var i=r[0],c=i.getContext("2d"),l=Array.isArray(e.data[0])?h(e.labels,e.data,e.series||[],e.colours):d(e.labels,e.data,e.colours),s=angular.extend({},t.options,t.options[n]||{}),f=new t.Chart(c)[n](l,s);return e.$emit("create",f),["hover","click"].forEach(function(t){e[t]&&(i["click"===t?"onclick":"onmousemove"]=o(e,f,t))}),e.legend&&"false"!==e.legend&&g(r,f),f}}function o(t,n,e){return function(r){var o=n.getPointsAtEvent||n.getBarsAtEvent||n.getSegmentsAtEvent;if(o){var a=o.call(n,r);t[e](a,r),t.$apply()}}}function a(n,e){for(var r=angular.copy(e.colours||t.options[n]&&t.options[n].colours||t.options.colours||Chart.defaults.global.colours);r.length<e.data.length;)r.push(e.getColour());return r.map(i)}function i(t){return"object"==typeof t&&null!==t?t:"string"==typeof t&&"#"===t[0]?c(f(t.substr(1))):u()}function u(){var t=[l(0,255),l(0,255),l(0,255)];return c(t)}function c(t){return{fillColor:s(t,.2),strokeColor:s(t,1),pointColor:s(t,1),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:s(t,.8)}}function l(t,n){return Math.floor(Math.random()*(n-t+1))+t}function s(t,n){return"rgba("+t.concat(n).join(",")+")"}function f(t){var n=parseInt(t,16),e=n>>16&255,r=n>>8&255,o=255&n;return[e,r,o]}function h(t,n,e,r){return{labels:t,datasets:n.map(function(t,n){var o=angular.copy(r[n]);return o.label=e[n],o.data=t,o})}}function d(t,n,e){return t.map(function(t,r){return{label:t,value:n[r],color:e[r].strokeColor,highlight:e[r].pointHighlightStroke}})}function g(t,n){var e=t.parent(),r=e.find("chart-legend"),o="<chart-legend>"+n.generateLegend()+"</chart-legend>";r.length?r.replaceWith(o):e.append(o)}function p(t,n,e){Array.isArray(e.data[0])?t.datasets.forEach(function(t,e){(t.points||t.bars).forEach(function(t,r){t.value=n[e][r]})}):t.segments.forEach(function(t,e){t.value=n[e]}),t.update(),e.$emit("update",t)}function v(t){return!t||Array.isArray(t)&&!t.length||"object"==typeof t&&!Object.keys(t).length}return function(t){return{restrict:"CA",scope:{data:"=",labels:"=",options:"=",series:"=",colours:"=?",getColour:"=?",chartType:"=",legend:"@",click:"=",hover:"="},link:function(e,o){function a(n,a){if(!v(n)&&!angular.equals(n,a)){var u=t||e.chartType;u&&(i&&i.destroy(),i=r(u,e,o))}}var i,u=document.createElement("div");u.className="chart-container",o.replaceWith(u),u.appendChild(o[0]),"object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement&&window.G_vmlCanvasManager.initElement(o[0]),e.$watch("data",function(a,u){if(a&&a.length&&(!Array.isArray(a[0])||a[0].length)){var c=t||e.chartType;if(c){if(i){if(n(a,u))return p(i,a,e);i.destroy()}i=r(c,e,o)}}},!0),e.$watch("series",a,!0),e.$watch("labels",a,!0),e.$watch("options",a,!0),e.$watch("colours",a,!0),e.$watch("chartType",function(t,n){v(t)||angular.equals(t,n)||(i&&i.destroy(),i=r(t,e,o))}),e.$on("$destroy",function(){i&&i.destroy()})}}}}angular.module("chart.js",[]).provider("ChartJs",t).factory("ChatJsFactory",["ChartJs",n]).directive("chartBase",function(t){return new t}).directive("chartLine",function(t){return new t("Line")}).directive("chartBar",function(t){return new t("Bar")}).directive("chartRadar",function(t){return new t("Radar")}).directive("chartDoughnut",function(t){return new t("Doughnut")}).directive("chartPie",function(t){return new t("Pie")}).directive("chartPolarArea",function(t){return new t("PolarArea")})}();
//# sourceMappingURL=angular-chart.min.js.map